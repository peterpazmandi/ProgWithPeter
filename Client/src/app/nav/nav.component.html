<nav class="navbar navbar-expand-lg navbar-light shadow-lg navbar-bg">
    <div class="container-fluid">
        <a class="navbar-brand me-4" routerLink='/' routerLinkActive='active'>
            <img src="assets/svg/PwP_logo.svg" alt="Programming with Peter">
        </a>
      <button class="navbar-toggler" type="button" 
        data-bs-toggle="collapse" 
        data-bs-target="#navbarSupportedContent" 
        aria-controls="navbarSupportedContent" 
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="form overlapping-img me-4">
            <img src="assets/svg/magnifying_glass.svg" alt="Search" style="height: 24px; width: 24px;">
            <input type="text" class="form-control form-input" placeholder="Search ...">
        </div>
        <ul class="nav navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item dropdown">            
            <a
                class="nav-link dropdown-toggle" 
                routerLink='/tutorial-list'
                role="button" >
                <img
                    class="me-1" 
                    src="assets/svg/ic_tutorials.svg" 
                    alt="Programming with Peter">
                Tutorials
            </a>
          </li>
          <li class="nav-item dropdown">          
            <a
                class="nav-link dropdown-toggle navbar-link" 
                role="button" 
                data-bs-toggle="dropdown" 
                aria-expanded="false">
                <img
                    class="me-1" 
                    src="assets/svg/ic_courses.svg" 
                    alt="Programming with Peter">
                Courses
            </a>
          </li>
          <li class="nav-item" [routerLink]="['/pricing']">          
            <a
                class="nav-link navbar-link" 
                role="button">
                <img
                    class="me-1" 
                    src="assets/svg/ic_pricing.svg" 
                    alt="Programming with Peter">
                Pricing
            </a>
          </li>
          <li *appHasRole='["Admmin", "Moderator"]' class="dropdown">          
            <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img class="me-1" src="assets/svg/ic_content_management.svg" alt="Programming with Peter">
                Content
            </a>
            <ul class="dropdown-menu nav-dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li>         
                <a
                  routerLink='/tutorial-list'
                  class="dropdown-item" >
                  <img
                      class="me-1" 
                      src="assets/svg/ic_tutorials_filled.svg" 
                      alt="Programming with Peter">
                  Tutorials
                </a>
              </li>
              <li>        
                <a
                    routerLink='/course-list'
                    class="dropdown-item" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_courses_filled.svg" 
                        alt="Programming with Peter">
                    Courses
                </a>
              </li>
              <li>        
                <a
                    routerLink='/lecture-list'
                    class="dropdown-item" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_lecture.svg" 
                        alt="Programming with Peter">
                    Lectures
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>      
                <a
                    routerLink='/category-list'
                    class="dropdown-item" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_categories_filled.svg" 
                        alt="Programming with Peter">
                    Categories
                </a>
              </li>
              <li>      
                <a
                    routerLink='/tag-list'
                    class="dropdown-item" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_tags_filled.svg" 
                        alt="Programming with Peter">
                    Tags
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li id="sub-dropdown" class="dropdown">
                <div class="btn-group dropend">
                  <a
                    class="dropdown-item dropdown-toggle" 
                    role="button" 
                    data-bs-toggle="dropdown" 
                    aria-expanded="false" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_user_filled.svg" 
                        alt="Programming with Peter">
                    Users
                </a>
                <ul id="sub-dropdown-menu" class="dropdown-menu">
                  <li>
                    <a routerLink='/' class="dropdown-item">All</a>
                  </li>
                  <li>
                    <a routerLink='/' class="dropdown-item">Photos</a>
                  </li>
                </ul>
                </div>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item dropdown">         
            <a class="nav-link" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img
                class="me-1" 
                src="assets/svg/ic_three_dots.svg" 
                alt="Programming with Peter">
            </a>
            <ul class="dropdown-menu nav-dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li>
                <div class="dropdown-item" (click)="onToggleTheme()" >
                  <img
                        class="me-1" 
                        src="assets/svg/ic_moon.svg" 
                        alt="Night mode">
                  Night mode
                  <input [checked]="isChecked$ | async" type="checkbox" class="form-check-input ms-5" value="" id="nightModeCheckBox" style="cursor: pointer;">
                </div>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>        
                <a
                    class="dropdown-item" 
                    routerLink='/' 
                    role="button" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_about_us.svg" 
                        alt="Programming with Peter">
                    About us
                </a>
              </li>
              <li>      
                <a
                    class="dropdown-item" 
                    routerLink='/' 
                    role="button" >
                    <img
                        class="me-1" 
                        src="assets/svg/ic_letter.svg" 
                        alt="Programming with Peter">
                    Contact us
                </a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item dropdown" *ngIf="!(accountService.currentUser$ | async)">
            <a 
              class="nav-link" 
              id="navbarDropdown" 
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false">
              <img
                class="me-1" 
                src="assets/svg/ic_person.svg" 
                alt="Programming with Peter">
            </a>
            <ul class="dropdown-menu nav-dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li>
                <div class="dropdown-item"
                  (click)="onOpenRegisterModal()">
                  <img
                      class="me-1" 
                      src="assets/svg/ic_register.svg" 
                      alt="Register">
                      Register
                </div>
              </li>
              <li>
                <div class="dropdown-item"
                  (click)="onOpenLoginModal()">
                  <img
                      class="me-1" 
                      src="assets/svg/ic_login.svg" 
                      alt="Login">
                      Login
                </div>
              </li>
            </ul>
          </li>
          <li class="nav-item dropdown" *ngIf="(accountService.currentUser$ | async) as user">
            <a 
              class="nav-link" 
              id="navbarDropdown" 
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false">
              <img
                class="me-1 rounded-img-medium" 
                src="{{user.photoUrl || './assets/user.png'}}" alt="{{user.username}}">
            </a>
            <ul class="dropdown-menu nav-dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li>
                <div class="dropdown-item">
                  <a 
                    id="navbarDropdown" 
                    role="button" 
                    data-bs-toggle="dropdown" 
                    aria-expanded="false">
                    <img
                      class="me-1 rounded-img-small" 
                      src="{{user.photoUrl || './assets/user.png'}}"
                       alt="{{user.username}}">
                    {{user.username}}
                  </a>
                </div>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <div class="dropdown-item"
                  (click)="onSignOut()">
                  <img
                      class="me-1" 
                      src="assets/svg/ic_signout.svg" 
                      alt="Sign Out">
                      Sign Out
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>