<form [formGroup]='createTutorialForm' autocomplete="off">
    <div class="innerdiv mb-3">                    
        <!-- Title -->
        <div class="form-group mb-3">
            <span class="fw-bold">Title</span>
            <input
                [class.is-invalid]="createTutorialForm.controls.title.touched && createTutorialForm.controls.title.invalid"
                class="form-control" 
                type="text" 
                formControlName='title' placeholder="Title">
            <div *ngIf="createTutorialForm.controls.title.touched && createTutorialForm.controls.title.invalid">
                <div *ngIf="createTutorialF.title.errors.required" class="invalid-feedback d-block">
                    Please provide a title!
                </div>
                <div *ngIf="createTutorialF.title.errors.minlength" class="invalid-feedback d-block">
                    Title has to be at least 8 charachters
                </div>
            </div>
        </div>
        <!-- Category -->
        <div class="form-group mb-3">
            <span class="fw-bold">Category</span>
            <div class="font-small">
                <div *ngFor="let category of selectedCategory; let last = last" style="display: inline;">
                    <span *ngIf="last">
                        {{category.text}}<span *ngIf="!last"> > </span> 
                    </span>
                    <span *ngIf="!last" class="text-muted">
                        {{category.text}}<span *ngIf="!last"> > </span> 
                    </span>
                </div>
                <a *ngIf="selectedCategory.length > 0" style="cursor: pointer;" (click)="onRemoveCategories()">
                    <img src="assets/svg/ic_trash.svg" alt="Remove categories">
                </a>
            </div>
            <ngx-dropdown-treeview-select [items]="categories" [(value)]="value" (valueChange)="onCategoryValueChange($event)">
            </ngx-dropdown-treeview-select>
            <div *ngIf="createTutorialForm.controls.category.touched && createTutorialForm.controls.category.invalid">
                <div *ngIf="createTutorialF.category.errors.required" class="invalid-feedback d-block">
                    Please select a category!
                </div>
            </div>
        </div>
        <!-- Tags -->
        <div class="form-group mb-3">
            <span class="fw-bold">Tags</span>
            <ng-autocomplete
                style="border-radius: 25 !important;"
                [data]="tags"
                [searchKeyword]="keyword"
                (selected)='selectEvent($event)'
                (inputChanged)='onChangeSearch($event)'
                [itemTemplate]="itemTemplate"
                [notFoundTemplate]="notFoundTemplate"
                [historyIdentifier]="historyIdentifier"
                notFoundText="No tags found">
            </ng-autocomplete>
            <ng-template #itemTemplate let-item>
                <a [innerHTML]="item.name"></a>
            </ng-template>
            
            <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
            </ng-template>
            <div class="font-small chip" *ngFor="let tag of selectedTags">
                {{tag.name}} <img src="assets/svg/ic_trash.svg" alt="Remove" style="cursor: pointer;" (click)="onRemoveTag(tag.id)">
            </div>
        </div>
    </div>
</form>